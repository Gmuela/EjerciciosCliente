var MPWidgetCPA;MPWidgetCPA=function(d){var c,f,a,b,e;c=this;b=false;e={1:{width:300,height:206},2:{width:220,height:151},3:{width:140,height:96},4:{width:60,height:41},5:{width:980,height:270}};this.init=function(){$(document).ready(function(){c.ready()})};this.log=function(g){if(b&&typeof console==="object"){console.log(g)}};this.handleCarrousel=function(g,i){var h=new MPWidgetCarouselCPA();c.log("Handle carrousel initialization");if(i===undefined){i={}}h.setup("#MPFeaturedWidgetCPA",g!=undefined?g:d,i)};this.handleMPList=function(g){$("body").removeClass("type-list").addClass("mp-list")};this.handleImageReplace=function(o){var p,l,k,n,h,m,g;o=o.split("image-replace|").join("");p=o.split("|");for(l=0,k=p.length;l<k;l++){n=p[l].split(":");if(n.length==2){h=f.find(".item-"+n[0]);if(h&&h.size()>0){h.find("img").attr("src",h.find(".js-click").attr("data-image-"+n[1])).attr("width",e[n[1]].width).attr("height",e[n[1]].height)}}}};this.ready=function(){$(document).on("click","a",function(g){window.open($(this).attr("href"),"_blank");g.preventDefault();g.stopPropagation()});f=$(document.body);a=f.data("on-ready");if(typeof window.onWidgetReady==="function"){c.log("custom initialization");window.onWidgetReady(c)}else{c.log("default initialization, checking on-ready property: "+a);if(a==="carousel"){c.handleCarrousel()}else{if(a==="carousel-1"){c.handleCarrousel(1)}else{if(a==="carousel-2"){c.handleCarrousel(2)}else{if(a==="carousel-3"){c.handleCarrousel(3)}else{if(a==="carousel-4"){c.handleCarrousel(4)}else{if(a==="carousel-5"){c.handleCarrousel(5)}else{if(a==="mp-list"){c.handleMPList(2)}else{if(a.match(/^image-replace\\|/)){c.handleImageReplace(a)}else{c.log("No handler found")}}}}}}}}}};this.init()};MPWidgetCarouselCPA=function(){var n=this,h=0,m=false,c=5000,o=150,k=false,g=false,q,f,j=1,p;var b,i,a,d,l,e;n.createCarousel=function(){d=$("<ul/>").addClass("js-carousel carousel").prependTo(b);a.each(function(x){var t=$(this),u,v,C,A,z,r,s,B,y,w;A=$(this).find(".js-click");
r=A.attr("data-image-"+j);s=A.attr("href");B=A.attr("onclick");u=$("<li/>").addClass("js-item item").appendTo(d);$carouselItemLink=$("<a/>").attr({href:s,target:"_blank",onclick:B}).appendTo(u);y=t.find(".js-title").html();v=$("<div/>").addClass("title").html(y).prependTo(u).click(function(){window.open(s,"_blank")});C=$("<img/>").attr("src",r).appendTo($carouselItemLink);w=t.find(".js-description");if(w.length>0){b.addClass("w-description");w.appendTo(u)}A.bind("mouseenter",{item:$(this).index()},n.handleBtnClickPager);A.mouseenter(function(){n.clearTimeouts();k=true});A.mouseleave(function(){k=false;f=setTimeout(function(){n.showItem(l.eq(x),n.getNextItem(l.eq(x)))},c)})});l=d.find(".js-item").hide()};n.setup=function(t,r,s){if(r!==undefined&&r!==null){j=r}b=$(t);i=b.find(".js-game-list").addClass("carousel-nav");a=i.find(".js-item");$("body").removeClass("type-list");p=s;n.init()};this.fadeCallback=function(){g=false;if(k){return}var s=$(this),r=n.getNextItem(s);q=setTimeout(function(){n.showItem(s,r)},c)};this.getNextItem=function(r){return r.next().length?r.next():l.first()};this.showItem=function(r,s){if(g){return}h=s.index(),s=s||this.getNextItem(r);g=true;a.removeClass("active");a.eq(h).addClass("active");l.not(l.eq(h)).fadeOut(o);s.fadeIn(o,n.fadeCallback)};this.handleBtnClickPager=function(r){n.clearTimeouts();k=true;var s=r.data.item;n.showItem(1,l.eq(s))};this.clearTimeouts=function(){clearInterval(q);clearInterval(f)};this.init=function(){if(m){return}else{m=true}n.createCarousel();a.eq(h).addClass("active");l.eq(h).fadeIn(o,n.fadeCallback)}};
<html>

<head>

    <style>
        input,
        fieldset {
            display: block;
            margin-bottom: 10px;
        }

    </style>

    <script>
        var errores = "";

        var nomVal = "";
        var ciuVal = "";
        var tlfVal = "";

        function validarNombre(nombre) {

            validado = true;

            if (nombre.length < 2) {

                validado = false;

                errores += "Nombre(Longitud no válida)\n";

            }

            nombre = nombre.toUpperCase();

            var letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ-";

            var comprobado = "";

            var primera = false;

            for (var i = 0; i < nombre.length; i++) {

                var comprobado = letras.search(nombre.charAt(i));

                if (comprobado == -1) {

                    validado = false;

                    if (!primera) {

                        errores += "Nombre(Caracter no válido)\n";

                    }

                    primera = true;

                }
            }

            return validado;

        }

        function validarCiudad(ciudad) {

            validado = true;

            if (ciudad.length < 2) {

                validado = false;

                errores += "Ciudad(Longitud no válida)\n";

            }

            ciudad = ciudad.toUpperCase();

            var letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ-";

            var comprobado = "";

            var primera = false;

            for (var i = 0; i < ciudad.length; i++) {

                var comprobado = letras.search(ciudad.charAt(i));

                if (comprobado == -1) {

                    validado = false;

                    if (!primera) {

                        errores += "Ciudad(Caracter no válido)\n";

                    }

                    primera = true;

                }
            }

            return validado;

        }

        function validarTlf(telefono) {

            validaLongitud = true;

            if (telefono.length < 9 || telefono.length > 9) {

                validaLongitud = false;

                errores += "Teléfono(Longitud no válida)\n";

            }

            validaPrefijo = true;

            var prefijo = parseInt(telefono.slice(0, 1));

            if (prefijo < 6 || prefijo > 9) {

                validaPrefijo = false;

                errores += "Teléfono(prefijo no válido)\n";

            }

            validado = false;

            if (validaLongitud && validaPrefijo) {

                validado = true;

            }

            telefono = telefono.toUpperCase();

            var letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ-";

            var comprobado = "";

            var primera = false;

            for (var i = 0; i < telefono.length; i++) {

                var comprobado = letras.search(telefono.charAt(i));

                if (comprobado != -1) {

                    validado = false;

                    if (!primera) {

                        errores += "Teléfono(Caracter no válido)\n";

                    }

                    primera = true;

                }
            }

            return validado;

        }


        function validarDatos() {

            var nombre = formulario1.nombre.value.trim();
            var ciudad = formulario1.ciudad.value.trim();
            var telefono = formulario1.telefono.value.trim();

            nomVal = validarNombre(nombre);
            ciuVal = validarCiudad(ciudad);
            tlfVal = validarTlf(telefono);

            if ((nomVal && ciuVal) && tlfVal) {

                alert("Formulario correcto");

            } else {

                alert("Campos Erróneos:\n" + errores);
                errores = "";

            }

            darFoco();
        }

        function darFoco() {

            if (!nomVal) {

                formulario1.nombre.focus() == "";

            } else if (!ciuVal) {

                formulario1.ciudad.focus() == "";

            } else if (!tlfVal) {

                formulario1.telefono.focus() == "";

            }

        }

    </script>

</head>

<body>
    <form name="formulario1">

        Nombre
        <input type="text" name="nombre" maxlength="20" /> Ciudad
        <input type="text" name="ciudad" maxlength="15" /> Teléfono
        <input type="text" name="telefono" maxlength="9" />


        <input type="button" value="Validar" name="envio" onclick="validarDatos()" />



    </form>
</body>

</html>
